# Структури

## Определение
Структура наричаме АТД (абстрактен тип данни), който ни позволява да моделираме свои собствени типове. Достъпът до променливите е напълно свободен.

## Как моделираме чрез структури?
За да отговорим на този въпрос, трябва да се замислим какво определя обектите. Когато погледнем един обект, ние виждаме неговите **характеристики**. Например една топка е определена от своите:
* форма
* цвят
* размерности
* и други

Само че един обект не е определен само от това, което е, а и от това, което **може да прави**. По примера една топка може:
* да подскача
* да се търкаля
* да се спука
* и други

Ето защо в една структура има **член-променливи** и **член-функции**. Чрез член-променливите ние правим статичен анализ на обекта, а чрез член-функциите - динамичен анализ.

## Пример:
Нека да моделираме топка чрез следната снимка:

![Ball](https://p1.akcdn.net/full/528217962.futbolna-topka-za-vashata-reklama.jpg)

За да дефинираме структура, използваме вградената дума *struct*.

```cpp
struct Ball {
  char colour[50];
  int height;
  int width;
  int pos_x;
  int pos_y;
  int pos_z;
  
  int show_width() const {    //чрез const показваме, че чрез тази функция не променяме променливите (тя е immutable)
    return width;
  }
  
  void change_position(int x, int y, int z) {
    pos_x += x;
    pos_y += y;
    pos_z += z;
  }
};
```

В main функцията създаваме обект от новия тип така:
```cpp
int main() {
  Ball my_ball = {"white", 5, 3, 0, 0, 0};
  my_ball.change_position(1,1,1);  //така извикваме член-функция
  cout << my_ball.pos_x << endl;   //така извикваме член-променливи
  return 0;
}
```

## Дефиниция и използване на структури - задачи

За структурата Product дефинирана по следния начин:

```cpp
struct Product {
  char description[32];
  int part_num;          //номер на продукт
  double cost;
};
```

да се извършат следните действия:
* да се създадат два продукта
* да се дефинира без да се инициализира масив от 10 продукта
* да се напише цикъл, който инициализира масива
* да се създаде масив от 5 продукта
* да се напише функция, която извежда на екрана информацията за продуктите в масива

### Допълнителна задача
Да се реализира АТД за комплексни числа и да се дефинират аритметични операции с тях. <br> 
Да се напише програма която решава система ог уравнения в полето на комплексните числа:<br>
| ax + by + cz = j<br>
| dx + ey + fz = k<br>
| gx + hy + iz = l

## Указатели и структури
Вече знаем, че чрез указатели манипулираме променлива, намираща се на даден адрес. Можем да направим същото и с променливи от наша собствена структура.
```cpp
int main() {
  Product* p;
  p->pos_x = 5;  //достъпът се осъществява с оператор '->'
  return 0;
}
```
